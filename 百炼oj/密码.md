



TLE

```c
#include <cstdio>
#include <string>
#include <iostream>
#include <cstring>
#include <algorithm>
#include <vector>
using namespace std;


vector<string> res;
int a[205];
int n;
string encrypt(string raw){
    string res = raw;
    for(int i =0;i<raw.size();i++){
        res[a[i]-1] = raw[i];
    }
    return res;
}

string change(int k ,string raw){
    string tmp = raw;
    while(k--){
        tmp = encrypt(tmp);
    }
    return tmp;
}


int main(){

    cin>>n;
    for(int i =0;i<n;i++)
        cin>>a[i];
    int k = 0;
    string line;
    bool need_output = false;
    cin.get();// 必须要有
    while(getline(cin,line)){
        k = 0;
        int idx =0;
        for(;idx<line.size() && line[idx] != ' ';idx++){
            k = k*10 + line[idx] - '0';
        }
        if(k == 0){
            if(need_output){
                for(int i=0;i<res.size();i++)
                    cout<<res[i]<<endl;
                cout<<endl;
                need_output = false;
                res.clear();
            }
            else{
                break;
            }
        }
        else{
            string raw = line.substr(++idx,line.size());
            while(raw.size() < n)
                raw.append(" "); //append string
            res.push_back(change(k,raw));
            need_output = true;
        }
    }
    return 0;
}


```



```c

#include <cstdio>
#include <string>
#include <iostream>
#include <cstring>
#include <algorithm>
#include <vector>
using namespace std;


vector<string> res;
int a[205];
int n;
string encrypt(string raw){
    string res = raw;
    for(int i =0;i<raw.size();i++){
        res[a[i]-1] = raw[i];
    }
    return res;
}

string change(int k ,string raw){
    string tmp = raw;
    int cnt = 0;
    while(k--){
        tmp = encrypt(tmp);
        cnt++;
        if(tmp == raw){
            k = k%cnt;
        }
    }
    return tmp;
}


int main(){

    cin>>n;
    for(int i =0;i<n;i++)
        cin>>a[i];
    int k = 0;
    string line;
    bool need_output = false;
    cin.get();// 必须要有
    while(getline(cin,line)){
        k = 0;
        int idx =0;
        for(;idx<line.size() && line[idx] != ' ';idx++){
            k = k*10 + line[idx] - '0';
        }
        if(k == 0){
            if(need_output){
                for(int i=0;i<res.size();i++)
                    cout<<res[i]<<endl;
                cout<<endl;
                need_output = false;
                res.clear();
            }
            else{
                break;
            }
        }
        else{
            string raw = line.substr(++idx,line.size());
//            while(raw.size() < n)
//                raw.append(" "); //append string
            raw.append(n-raw.size(),' ');
            res.push_back(change(k,raw));
            need_output = true;
        }
    }
    return 0;
}

```

